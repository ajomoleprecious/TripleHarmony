window.onload=function(){let e=new bootstrap.Modal(document.getElementById("register"),{keyboard:!1});e.show()};const registerForm=document.getElementById("register-form"),registerEmail=document.getElementById("registerEmail"),registerEmailLabel=document.querySelector('label[for="registerEmail"]'),registerUsername=document.getElementById("registerUsername"),registerUsernameLabel=document.querySelector('label[for="registerUsername"]'),registerPassword=document.getElementById("registerPassword"),registerPasswordLabel=document.querySelector('label[for="registerPassword"]'),registerConfirmPasswordLabel=document.querySelector('label[for="registerConfirmPassword"]'),registerConfirmPassword=document.getElementById("registerConfirmPassword"),registerPasswordReveal=document.getElementById("registerPasswordReveal"),registerConfirmPasswordReveal=document.getElementById("registerConfirmPasswordReveal"),registerEmailError=document.getElementById("registerEmailError"),registerUsernameError=document.getElementById("registerUsernameError"),registerPasswordError=document.getElementById("registerPasswordError"),registerConfirmPasswordError=document.getElementById("registerConfirmPasswordError");registerForm.addEventListener("submit",async e=>{e.preventDefault();let r=new FormData(registerForm),s=Object.fromEntries(r);registerEmailError.textContent="",registerUsernameError.textContent="",registerPasswordError.textContent="",registerConfirmPasswordError.textContent="";try{let t=await fetch("/pokemon-auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await t.json();o.errors&&(o.errors.email&&(registerEmailError.textContent=`• ${o.errors.email}`,registerEmail.style.border="3px solid red"),o.errors.username&&(registerUsernameError.textContent=`• ${o.errors.username}`,registerUsername.style.border="3px solid red"),o.errors.password&&(registerPasswordError.textContent=`• ${o.errors.password}`,registerPassword.style.border="3px solid red"),registerPassword.value!==registerConfirmPassword.value&&(registerConfirmPasswordError.textContent="• Wachtwoorden komen niet overeen",registerConfirmPassword.style.border="3px solid red")),o.user&&(window.location.href="/pokemon-auth/register-success")}catch(a){console.error("Error:",a)}}),registerEmail.addEventListener("input",()=>{""===registerEmail.value?(registerEmailLabel.style.color="red",registerEmail.style.border="3px solid red"):(registerEmailLabel.style.color="black",registerEmailError.textContent="",registerEmail.style.border="none")}),registerUsername.addEventListener("input",()=>{""===registerUsername.value?(registerUsernameLabel.style.color="red",registerUsername.style.border="3px solid red"):(registerUsernameLabel.style.color="black",registerUsernameError.textContent="",registerUsername.style.border="none")}),registerPassword.addEventListener("input",()=>{registerPassword.value.length<8?(registerPasswordLabel.style.color="red",registerPassword.style.border="3px solid red"):(registerPasswordLabel.style.color="black",registerPasswordError.textContent="",registerPassword.style.border="none")}),registerConfirmPassword.addEventListener("input",()=>{registerConfirmPassword.value!==registerPassword.value?(registerConfirmPasswordError.textContent="• Wachtwoorden komen niet overeen",registerConfirmPassword.style.border="3px solid red"):(registerConfirmPasswordError.textContent="",registerConfirmPassword.style.border="none")}),registerPasswordReveal.addEventListener("click",()=>{"password"===registerPassword.type?(registerPassword.type="text",registerPasswordReveal.innerHTML='<i class="fas fa-eye-slash"></i>'):(registerPassword.type="password",registerPasswordReveal.innerHTML='<i class="fas fa-eye"></i>')}),registerConfirmPasswordReveal.addEventListener("click",()=>{"password"===registerConfirmPassword.type?(registerConfirmPassword.type="text",registerConfirmPasswordReveal.innerHTML='<i class="fas fa-eye-slash"></i>'):(registerConfirmPassword.type="password",registerConfirmPasswordReveal.innerHTML='<i class="fas fa-eye"></i>')});const loginForm=document.getElementById("login-form"),userName=document.getElementById("loginUsername"),userNameError=document.getElementById("loginUsernameError"),userNameLabel=document.querySelector('label[for="loginUsername"]'),password=document.getElementById("loginPassword"),passwordError=document.getElementById("loginPasswordError"),passwordLabel=document.querySelector('label[for="loginPassword"]'),loginPasswordReveal=document.getElementById("loginPasswordReveal");loginForm.addEventListener("submit",async e=>{e.preventDefault();let r=new FormData(loginForm),s=Object.fromEntries(r);userNameError.textContent="",passwordError.textContent="";try{let t=await fetch("/pokemon-auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await t.json();o.errors&&(o.errors.username&&(userNameError.textContent=`• ${o.errors.username}`,userName.focus(),userName.style.border="3px solid red"),o.errors.password&&(passwordError.textContent=`• ${o.errors.password}`,password.focus(),password.style.border="3px solid red")),o.user&&(window.location.href="/pokemon-submenu")}catch(a){console.error("Error:",a)}}),userName.addEventListener("input",()=>{""===userName.value?(userNameLabel.style.color="red",userName.style.border="3px solid red"):(userNameLabel.style.color="black",userName.style.border="none")}),password.addEventListener("input",()=>{""===password.value||password.value.length<8?(passwordLabel.style.color="red",password.style.border="3px solid red"):(passwordLabel.style.color="black",password.style.border="none")}),loginPasswordReveal.addEventListener("click",()=>{"password"===password.type?(password.type="text",loginPasswordReveal.innerHTML='<i class="fas fa-eye-slash"></i>'):(password.type="password",loginPasswordReveal.innerHTML='<i class="fas fa-eye"></i>')});